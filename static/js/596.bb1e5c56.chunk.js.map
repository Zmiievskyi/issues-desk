{"version":3,"file":"static/js/596.bb1e5c56.chunk.js","mappings":"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","sources":["webpack://git-issues/./src/components/issues/IssuesItem.module.scss?e2ec","components/issues/IssuesItem.tsx","webpack://git-issues/./src/components/issues/IssuesList.module.scss?bd92","components/issues/IssuesList.tsx","pages/IssuesBoard.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paper_card\":\"IssuesItem_paper_card__qb9Gp\",\"pencil_border\":\"IssuesItem_pencil_border__UjJW0\"};","import { Draggable } from \"react-beautiful-dnd\";\r\nimport Style from \"./IssuesItem.module.scss\";\r\n\r\nexport function IssuesItem({\r\n  id,\r\n  index,\r\n  title,\r\n}: {\r\n  id: number;\r\n  index: number;\r\n  title: string;\r\n}) {\r\n  return (\r\n    <Draggable key={id} draggableId={id.toString()} index={index}>\r\n      {(provided) => (\r\n        <div\r\n          className={Style.paper_card}\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n        >\r\n          <p>{title}</p>\r\n          <p>{id}</p>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"board\":\"IssuesList_board__bDQIO\"};","import  { useEffect } from \"react\";\r\nimport { Droppable, DroppableProvided } from \"react-beautiful-dnd\";\r\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\r\nimport \"react-loading-skeleton/dist/skeleton.css\";\r\nimport { useAppSelector,useAppDispatch } from \"../../redux/hooks\";\r\nimport { IssuesItem } from \"../issues/IssuesItem\";\r\nimport { getDone, getTodo } from \"../../redux/operations/boardOperations\";\r\nimport Style from \"./IssuesList.module.scss\";\r\nimport { setRepository } from \"../../redux/operations/repOperations\";\r\n\r\nexport function IssuesList() {\r\n\r\n  const repoRef:any = useAppSelector((state) => state.repo.repository);\r\n  const tokenRef = useAppSelector((state) => state.repo.token);\r\n  const boardsRef: { id: number; title: string; items: any[] }[] =\r\n    useAppSelector((state) => state.boards.boards);\r\n  const statusRef: { isLoading: boolean; isError: boolean } = useAppSelector(\r\n    (state) => state.boards.status\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const url = [...repoRef.adress];\r\n    url.splice(2,1,tokenRef.toString());\r\n    dispatch(getDone(url));\r\n    dispatch(getTodo(url));\r\n    dispatch(setRepository(url));\r\n  }, [repoRef.adress, tokenRef, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      {boardsRef?.map(({ title, items }, index) => (\r\n        <SkeletonTheme key={index} baseColor=\" rgb(175, 173, 188)\" highlightColor=\"#444\">\r\n          <Droppable key={index} droppableId={title}>\r\n            {(provided: DroppableProvided) => (\r\n              <div\r\n                className={Style.board}\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n              >\r\n                <h3 className=\"bg-white w-100 py-3 text-center\">{title}</h3>\r\n                {!statusRef.isLoading ? (\r\n                  items.map(({ id, title }, index) => (\r\n                    <IssuesItem key={id} id={id} title={title} index={index} />\r\n                  ))\r\n                ) : (\r\n                  <p>\r\n                    <Skeleton\r\n                      count={5}\r\n                      borderRadius={28}\r\n                      width={350}\r\n                      height={150}\r\n                      style={{\r\n                        margin: \"20px\",\r\n                      }}\r\n                    />\r\n                  </p>\r\n                )}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </SkeletonTheme>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import { DragDropContext } from \"react-beautiful-dnd\";\r\nimport { useAppDispatch, useAppSelector } from \"../redux/hooks\";\r\nimport { setBoards } from \"../redux/reducer/boardSlice\";\r\nimport { IssuesList } from \"../components/issues/IssuesList\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nexport const IssuesBoard = () => {\r\n  const tokenRef: any = useAppSelector((state) => state.repo.token);\r\n  const boardsRef: { id: number; title: string; items: any[] }[] =\r\n    useAppSelector((state) => state.boards.boards);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const onDragEnd = (result: any) => {\r\n    if (!result.destination) return;\r\n\r\n    const newBoardState = boardsRef.map((board) => {\r\n      if (board.title === result.source.droppableId) {\r\n        const copyBoard = [...board.items];\r\n        const dragItem: any[] = copyBoard.splice(result.source.index, 1);\r\n\r\n        if (result.source.droppableId === result.destination.droppableId) {\r\n          copyBoard.splice(result.destination.index, 0, dragItem[0]);\r\n        }\r\n        return { ...board, items: copyBoard };\r\n      }\r\n      if (board.title === result.destination.droppableId) {\r\n        const copyDragBoard: any = boardsRef.find(\r\n          (b) => b.title === result.source.droppableId\r\n        )?.items;\r\n        const dragItem = [...copyDragBoard].splice(result.source.index, 1);\r\n        const copyDropBoard = [...board.items];\r\n        copyDropBoard.splice(result.destination.index, 0, dragItem[0]);\r\n\r\n        return { ...board, items: copyDropBoard };\r\n      }\r\n\r\n      return board;\r\n    });\r\n\r\n    dispatch(setBoards(newBoardState));\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <Container className=\"d-flex\" style={{justifyContent: 'space-around'}}>\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n          {tokenRef ? <IssuesList /> : null}\r\n        </DragDropContext>\r\n      </Container>\r\n    </main>\r\n  );\r\n};\r\n"],"names":["IssuesItem","_ref","id","index","title","_jsx","Draggable","draggableId","toString","children","provided","_jsxs","_objectSpread","className","Style","ref","innerRef","draggableProps","dragHandleProps","IssuesList","repoRef","useAppSelector","state","repo","repository","tokenRef","token","boardsRef","boards","statusRef","status","dispatch","useAppDispatch","useEffect","url","_toConsumableArray","adress","splice","getDone","getTodo","setRepository","_Fragment","map","items","SkeletonTheme","baseColor","highlightColor","Droppable","droppableId","droppableProps","isLoading","Skeleton","count","borderRadius","width","height","style","margin","_ref2","placeholder","IssuesBoard","Container","justifyContent","DragDropContext","onDragEnd","result","destination","newBoardState","board","source","copyBoard","dragItem","_boardsRef$find","copyDragBoard","find","b","copyDropBoard","setBoards"],"sourceRoot":""}